% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rfaR.R
\name{rfaR}
\alias{rfaR}
\title{RFA Stage-Frequency Analysis}
\usage{
rfaR(
  bestfit_params,
  dist = "LP3",
  stage_ts,
  seasonality,
  hydrographs,
  resmodel,
  critical_dur,
  routing_dur,
  expected_only = TRUE,
  Nbins = 50,
  events_per_bin = 20
)
}
\arguments{
\item{bestfit_params}{Data frame of distribution parameters from RMC-BestFit.
For LP3: columns are mean (log), sd (log), skew (log).
For GEV: columns are location, scale, shape.}

\item{dist}{Distribution type. Either \code{"LP3"} (default) or \code{"GEV"}.}

\item{stage_ts}{Data frame of historical stage time series with columns
\code{date} (m/d/yyyy) and \code{stage}.}

\item{seasonality}{Vector of monthly relative flood probabilities (length 12).}

\item{hydrographs}{List of hydrograph shapes. Each list item is a hydrograph data.frame. See: \code{\link[=hydrograph_setup]{hydrograph_setup()}}}

\item{resmodel}{Data frame with three columns: elevation (ft), storage (acre-feet),
and discharge (cfs). Must be in that order.}

\item{critical_dur}{Critical duration in days for hydrograph scaling.}

\item{routing_dur}{Routing duration in days.}

\item{expected_only}{Logical. If \code{TRUE} (default), uses expected value samples only.
If \code{FALSE}, includes full uncertainty ensemble.}
}
\value{
A data frame containing stage-frequency results.
}
\description{
Performs reservoir flood analysis using Monte Carlo simulation to develop
stage-frequency relationships. Combines flow-frequency sampling, flood
seasonality, hydrograph scaling, and Modified Puls routing.
}
\examples{
# Example usage
# results <- rfaR(jmd_vfc_parameters,
#                 stage_ts = jmd_por_stage,
#                 seasonality = jmd_seasonality$relative_frequency,
#                 hydrographs = hydrograph_matrix,
#                 resmodel = jmd_resmodel,
#                 critical_dur = 48,
#                 routing_dur = 240)
}
\seealso{
\code{\link[=flow_frequency_sampler]{flow_frequency_sampler()}}, \code{\link[=mod_puls_routing]{mod_puls_routing()}}, \code{\link[=scale_hydrograph]{scale_hydrograph()}},\code{\link[=hydrograph_setup]{hydrograph_setup()}}
}
